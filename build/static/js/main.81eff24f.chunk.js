(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){},41:function(e,t,a){e.exports=a.p+"static/media/cury.aab392f4.png"},43:function(e,t,a){e.exports=a(84)},52:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),s=a(6),c=a(17),i=a(40),u=a(22),m={token:null,error:null,loading:!1},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return Object(u.a)({},e,{error:null,loading:!0});case"AUTH_SUCCESS":return{token:t.idToken,error:null,loading:!1};case"AUTH_FAIL":return Object(u.a)({},e,{error:t.error,loading:!1});case"LOGOUT":return Object(u.a)({},e,{token:null});default:return e}},d=(a(52),a(1)),p=a(2),f=a(4),E=a(3),g=a(5),b=a(9),v=a(7),k=a.n(v),O=function(e){return{type:"AUTH_SUCCESS",idToken:e}},y=function(e){return{type:"AUTH_FAIL",error:e}},j=function(){return localStorage.removeItem("token"),localStorage.removeItem("exprDate"),{type:"LOGOUT"}},C=(a(69),a(70),a(41)),N=a.n(C),S=function(e){return r.a.createElement("div",{className:"logos",onClick:e.clicked},e.headOut?r.a.createElement("div",null,r.a.createElement("img",{src:N.a,alt:"Incury Logo Cury"})," ",r.a.createElement("span",null,"incury")):r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-bars","aria-hidden":"true"})))},w=function(e){return r.a.createElement("ul",{className:e.classes},r.a.createElement(b.c,{to:"/",activeClassName:"activeNav",exact:!0},r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-dashboard","aria-hidden":"true"})," ",e.headOut?"Dashboard":null)),r.a.createElement(b.c,{to:"/organisations",activeClassName:"activeNav",exact:!0},r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-sitemap","aria-hidden":"true"})," ",e.headOut?"Organisations":null)),r.a.createElement(b.c,{to:"/staff",activeClassName:"activeNav",exact:!0},r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"})," ",e.headOut?"Staff":null)),r.a.createElement(b.c,{to:"/tasks",activeClassName:"activeNav",exact:!0},r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-thumb-tack","aria-hidden":"true"})," ",e.headOut?"Tasks":null)),r.a.createElement(b.c,{to:"/resources",activeClassName:"activeNav",exact:!0},r.a.createElement("li",null,r.a.createElement("i",{className:"fa fa-wrench","aria-hidden":"true"})," ",e.headOut?"Resources":null)))},T=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={headerOut:!1},a.bigHeadChnager=function(){a.setState(function(e,t){return{headerOut:!e.headerOut}})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("header",{className:this.state.headerOut?"bigWidth":"smallWidth"},r.a.createElement(S,{headOut:this.state.headerOut,clicked:this.bigHeadChnager}),r.a.createElement(w,{headOut:this.state.headerOut,classes:this.state.headerOut?"menu":"menu smallmenu"}))}}]),t}(n.Component),M=a(16),D=(a(25),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).beginLogout=function(e){e.preventDefault(),a.props.handleLogout()},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"topHeader"},r.a.createElement("div",{className:"titleDiv"},""===this.props.location.pathname.slice(1)?"Dashboard":this.props.location.pathname.slice(1)),r.a.createElement("div",{className:"topMenu"},r.a.createElement("li",null,r.a.createElement("button",{onClick:this.beginLogout},r.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),"Logout"))))}}]),t}(n.Component)),L=Object(s.b)(null,function(e){return{handleLogout:function(){return e(j())}}})(Object(M.f)(D)),A=function(e){return r.a.createElement("div",{className:"progressBar"},r.a.createElement("div",{className:"beforePt bgGreen"}),r.a.createElement("div",{className:"doing"===e.progress||"done"===e.progress?"middlePt bgGreen":"middlePt"}),r.a.createElement("div",{className:"done"===e.progress?"afterPt bgGreen":"afterPt"}),r.a.createElement("div",{className:"doing"===e.progress||"done"===e.progress?"line1 bgGreen":"line1"}),r.a.createElement("div",{className:"done"===e.progress?"line2 bgGreen":"line2"}))},x=function(e){return r.a.createElement("select",{className:"doneSelect",value:e.progress,onChange:e.changed},r.a.createElement("option",{value:"todo"},"Mark ToDo"),r.a.createElement("option",{value:"doing"},"Mark In Process"),r.a.createElement("option",{value:"done"},"Mark Done"))},P=(a(72),function(e){return r.a.createElement("div",{className:"viewAllBtn"},r.a.createElement(b.c,{to:"/"+e.whereTo,exact:!0}," View More "))}),I=(a(73),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={startFrom:0,error:"",page:0,tasks:null},a.getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"next";k.a.post("./php/getTasks.php",{noOfTasks:a.props.numberTasks,startFrom:e,token:a.props.token}).then(function(n){if("string"===typeof n.data&&"nores"===n.data.trim())a.setState({error:"No more tasks to show."});else{var r=0;"next"===t?r=1:"prev"===t&&(r=-1),a.setState(function(t,l){return{tasks:n.data,startFrom:e+parseInt(a.props.numberTasks),error:"",page:parseInt(t.page)+parseInt(r)}})}})},a.changeProgress=function(e,t){var n=e.target.value;k.a.post("./php/changeProgress.php",{task_id:t,newProgress:n}).then(function(e){a.state.tasks[t].progress=n,a.forceUpdate()})},a.loadMoreTasks=function(e,t){e>=0?a.getData(e,t):a.setState({error:"These are the latest tasks."})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){setTimeout(this.getData(),1e4)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"taskList"},r.a.createElement("table",null,""!==this.state.error?r.a.createElement("p",{className:"errorMsg"},this.state.error):null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Task"),r.a.createElement("th",null,"Task Given By"),r.a.createElement("th",null,"Task For"),r.a.createElement("th",null,"Progress"),r.a.createElement("th",null,"Priority"),r.a.createElement("th",null,"Task Status")),null===this.state.tasks?"Loading...":Object.values(this.state.tasks).map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",{width:"23%"},t.task),r.a.createElement("td",{width:"15%"},t.byDept),r.a.createElement("td",{width:"15%"},t.dept),r.a.createElement("td",{width:"20%"},r.a.createElement(A,{progress:t.progress})),r.a.createElement("td",{width:"15%"},r.a.createElement("i",{className:"fa fa-circle "+t.priority,"aria-hidden":"true"})," ",t.priority," Priority"),r.a.createElement("td",{width:"7%"},r.a.createElement(x,{progress:t.progress,key:t.id-1,changed:function(a){return e.changeProgress(a,t.id)}})))}))),"1"===this.props.loadMore?r.a.createElement("div",{className:"nextPrevDiv"},r.a.createElement("p",null,"Page ",this.state.page),r.a.createElement("button",{onClick:function(){return e.loadMoreTasks(parseInt(e.state.startFrom)-10,"prev")}}," Previous Page"),r.a.createElement("button",{onClick:function(){return e.loadMoreTasks(e.state.startFrom,"next")}}," Next Page")):r.a.createElement(P,{whereTo:"tasks"}))}}]),t}(n.Component)),F=Object(s.b)(function(e){return{token:e.token}})(I),_=(a(74),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"taskComp"},r.a.createElement("h3",null,"All Tasks"),r.a.createElement(F,{numberTasks:this.props.numberTasks,loadMore:this.props.loadMore}))}}]),t}(n.Component)),H=(a(75),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",location:"",infoTo:"select",orgNames:null,error:""},a.handleMsgChange=function(e){a.setState({message:e.target.value})},a.handleLocChange=function(e){a.setState({location:e.target.value})},a.handleToChange=function(e){a.setState({infoTo:e.target.value})},a.broadcastSubmit=function(e){e.preventDefault(),"select"===a.state.infoTo?a.setState({error:"Please select a valid organisation to send the message to."}):k.a.post("./php/broadcastMsg.php",{msg:a.state.message,loc:a.state.location,to:a.state.infoTo}).then(function(){a.setState({error:"The message has been successfully broadcasted."})})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.post("./php/getBroadcastOptions.php",{token:this.props.token}).then(function(t){console.log(t),e.setState({orgNames:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"broadcastComp"},r.a.createElement("h3",null,"Broadcast Information"),r.a.createElement("form",{onSubmit:this.broadcastSubmit},""===this.state.error?null:r.a.createElement("p",{className:"errorMsg"},this.state.error),r.a.createElement("label",null,"Message: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",maxLength:"500",value:this.state.message,placeholder:"Eg. Fast Winds Expected in Coastal Areas",onChange:this.handleMsgChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Location: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",maxLength:"500",value:this.state.location,placeholder:"Eg. Gujarat",onChange:this.handleLocChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Send Information To:"),r.a.createElement("br",null),r.a.createElement("select",{name:"infoTo",value:this.state.infoTo,onChange:this.handleToChange},r.a.createElement("option",{value:"select"},"Select One"),null===this.state.orgNames?null:Object.values(this.state.orgNames).map(function(e){return r.a.createElement("option",{value:e.id,key:e.id},e.name)})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Broadcast"})))}}]),t}(n.Component)),U=Object(s.b)(function(e){return{token:e.token}})(H),G=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={error:"",infos:null},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.post("./php/getInfo.php",{user_id:this.props.userId,token:this.props.token}).then(function(t){"string"===typeof t.data&&"nores"===t.data.trim()?e.setState({error:"No Informations from Organisations Found"}):e.setState({infos:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"infoList"},r.a.createElement("table",null,""!==this.state.error?r.a.createElement("p",{className:"errorMsg"},this.state.error):null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Information"),r.a.createElement("th",null,"Info By"),r.a.createElement("th",null,"Location")),null===this.state.infos?"Loading...":Object.values(this.state.infos).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{width:"60%"},e.info),r.a.createElement("td",{width:"20%"},e.by),r.a.createElement("td",{width:"20%"},e.location))}))))}}]),t}(n.Component),B=Object(s.b)(function(e){return{token:e.token}})(G),W=(a(76),function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"1"===this.props.width?"StaffNewsComp width100pct":"StaffNewsComp"},r.a.createElement("h3",null,"Information From Organisations"),r.a.createElement(B,null))}}]),t}(n.Component)),R=function(e){return r.a.createElement("div",{className:"dashboardComp"},r.a.createElement(_,{numberTasks:"3",loadMore:"0"}),r.a.createElement(U,null),r.a.createElement(W,{width:"0"}))},J=(a(77),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={error:"",orgs:null,task:null,task_for:"select",priority:null},a.handleTaskChange=function(e){a.setState({task:e.target.value})},a.handlePriorityChange=function(e){a.setState({priority:e.target.value})},a.handleTaskForChange=function(e){a.setState({task_for:e.target.value})},a.addTask=function(e){e.preventDefault(),k.a.post("./php/addTask.php",{token:a.props.token,task:a.state.task,priority:a.state.priority,task_for:a.state.task_for}).then(function(e){a.setState({error:"Added Task!"})})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.post("./php/getBroadcastOptions.php",{token:this.props.token}).then(function(t){e.setState({orgs:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"addTaskComp"},r.a.createElement("h3",null,"Add Task"),r.a.createElement("form",{onSubmit:this.addTask},""===this.state.error?null:r.a.createElement("p",{className:"errorMsg"},this.state.error),r.a.createElement("label",null,"Task: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"task",maxLength:"500",value:this.state.task,placeholder:"Eg. Send Food Packets to Jaipur",onChange:this.handleTaskChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Task For: "),r.a.createElement("br",null),r.a.createElement("select",{name:"taskFor",value:this.state.taskFor,onChange:this.handleTaskForChange},r.a.createElement("option",{value:"select"},"Select One"),null===this.state.orgs?null:Object.values(this.state.orgs).map(function(e){return r.a.createElement("option",{value:e.name,key:e.id},e.name)})),r.a.createElement("br",null),r.a.createElement("label",null,"Priority:"),r.a.createElement("br",null),r.a.createElement("select",{name:"priority",value:this.state.priority,onChange:this.handlePriorityChange},r.a.createElement("option",{value:"High"},"High"),r.a.createElement("option",{value:"Medium"},"Medium"),r.a.createElement("option",{value:"Low"},"Low")),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Add Task"})))}}]),t}(n.Component)),$=Object(s.b)(function(e){return{token:e.token}})(J),q=function(e){return r.a.createElement("div",{className:"dashboardComp"},r.a.createElement(_,{numberTasks:"5",loadMore:"1"}),r.a.createElement($,null))},V=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={error:"",orgs:null},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.post("./php/getOrgs.php",{token:this.props.token}).then(function(t){"string"===typeof t.data&&"nores"===t.data.trim()?e.setState({error:"No more tasks to show."}):e.setState({orgs:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"orgList"},r.a.createElement("table",null,""!==this.state.error?r.a.createElement("p",{className:"errorMsg"},this.state.error):null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Organisation Name"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Email")),null===this.state.orgs?"Loading...":Object.values(this.state.orgs).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.location),r.a.createElement("td",null,e.email))}))))}}]),t}(n.Component),X=Object(s.b)(function(e){return{token:e.token}})(V),K=(a(78),function(e){return r.a.createElement("div",{className:"OrgTable"},r.a.createElement("h3",null,"All Organisations"),r.a.createElement(X,null))}),Q=function(e){return r.a.createElement("div",{className:"dashboardComp"},r.a.createElement(W,{width:"1"}),r.a.createElement(K,null))},Y=function(e){return r.a.createElement("div",{className:"dashboardComp"},r.a.createElement("div",{className:"Comp404"},r.a.createElement("h3",null,"404: Page Not Found"),r.a.createElement("p",null,"It seems like the page you're looking for does not exist. You can head back to ",r.a.createElement(b.b,{to:"../"},"Dashboard")),r.a.createElement("p",null,"If you think this is an error from our side, you can email us on ",r.a.createElement("a",{href:"mailto:puru@incury.org"},"puru@incury.org"))))},z=(a(79),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={staff:null,error:"Loading..."},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.post("./php/getStaffs.php",{token:this.props.token}).then(function(t){"string"===typeof t.data&&"nores"===t.data.trim()?e.setState({staff:null,error:"No staff to show."}):e.setState({staff:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"staffsList"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Position"),r.a.createElement("th",null,"Email")),null===this.state.staff?this.state.error:Object.values(this.state.staff).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.position),r.a.createElement("td",null,e.email))}))))}}]),t}(n.Component)),Z=Object(s.b)(function(e){return{token:e.token}})(z),ee=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"staffComp"},r.a.createElement("h3",null,"All Staff"),r.a.createElement(Z,null))}}]),t}(n.Component),te=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",position:"",email:"",error:null},a.getData=function(e){e.preventDefault(),k.a.post("./php/addStaff.php",{token:a.props.token,name:a.state.name,position:a.state.position,email:a.state.email}).then(function(e){a.setState({error:"Added Staff Successfully."})})},a.handleNameChange=function(e){a.setState({name:e.target.value})},a.handlePositionChange=function(e){a.setState({position:e.target.value})},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"addStaffComp"},r.a.createElement("h3",null,"Add Staff Member"),r.a.createElement("form",{onSubmit:this.getData},""===this.state.error?null:r.a.createElement("p",{className:"errorMsg"},this.state.error),r.a.createElement("label",null,"Full Name:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",maxLength:"300",value:this.state.name,placeholder:"Eg. Puru Thakkar",onChange:this.handleNameChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Position:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",maxLength:"300",value:this.state.position,placeholder:"Eg. HOD Software Dept.",onChange:this.handlePositionChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"email",maxLength:"500",value:this.state.email,placeholder:"Eg. puru@example.com",onChange:this.handleEmailChange}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Add"})))}}]),t}(n.Component),ae=Object(s.b)(function(e){return{token:e.token}})(te),ne=(a(80),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={msgs:null,error:""},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.post("./php/getStaffMsgs.php",{token:this.props.token}).then(function(t){"string"===typeof t.data&&"nores"===t.data.trim()?e.setState({error:"No messages to show."}):e.setState({msgs:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"msgList"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Message ID"),r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Message"),r.a.createElement("th",null,"To")),null===this.state.msgs?"Loading...":Object.values(this.state.msgs).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.date),r.a.createElement("td",null,e.message),r.a.createElement("td",null,e.to))}))))}}]),t}(n.Component)),re=Object(s.b)(function(e){return{token:e.token}})(ne),le=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"staffMsg"},r.a.createElement("h3",null,"Messages you Sent"),r.a.createElement(re,null))}}]),t}(n.Component),oe=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",staffName:null,messageTo:"select",error:""},a.handleMessageChange=function(e){a.setState({message:e.target.value})},a.handleStaffChange=function(e){a.setState({messageTo:e.target.value})},a.sendData=function(e){e.preventDefault(),"select"===a.state.messageTo||""===a.state.messageTo||null===a.state.messageTo?a.setState({error:"Please Select a staff to send the message to"}):k.a.post("./php/sendMsg.php",{token:a.props.token,msg:a.state.message,msgTo:a.state.messageTo}).then(function(e){a.setState({error:"Message sent!"})})},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;k.a.post("./php/getStaffs.php",{token:this.props.token}).then(function(t){"string"===typeof t.data&&"nores"===t.data.trim()?e.setState({staffName:null,error:"No staff to send message to. Please add staff."}):e.setState({staffName:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"sendMsg"},r.a.createElement("h3",null,"Send Message"),r.a.createElement("form",{onSubmit:this.sendData},""===this.state.error?null:r.a.createElement("p",{className:"errorMsg"},this.state.error),r.a.createElement("label",null,"Message:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",maxLength:"300",value:this.state.message,placeholder:"Eg. Reply to Message ID - 2: Files submitted.",onChange:this.handleMessageChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Message To:"),r.a.createElement("br",null),r.a.createElement("select",{onChange:this.handleStaffChange},r.a.createElement("option",{value:"select"},"Select One"),null===this.state.staffName?null:Object.values(this.state.staffName).map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)})),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Send"})))}}]),t}(n.Component),se=Object(s.b)(function(e){return{token:e.token}})(oe),ce=function(e){return r.a.createElement("div",{className:"dashboardComp"},r.a.createElement(le,null),r.a.createElement(se,null),r.a.createElement(ee,null),r.a.createElement(ae,null))},ie=(a(81),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={warehouses:{1:{id:1,name:"Gujarat Food Storage",location:"Gujarat",for_what:"Ready to Eat Food Packets",email:"food@gujarat.com"}}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wareList"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Used to Store"),r.a.createElement("th",null,"Email")),null===this.state.warehouses?"Loading...":Object.values(this.state.warehouses).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.location),r.a.createElement("td",null,e.for_what),r.a.createElement("td",null,e.email))}))))}}]),t}(n.Component)),ue=Object(s.b)(function(e){return{token:e.token}})(ie),me=function(e){return r.a.createElement("div",{className:"wareComp"},r.a.createElement("h3",null,"Warehouses"),r.a.createElement(ue,null))},he=(a(82),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={items:{1:{id:1,item:"Rice",quantity:"500",unit:"Kg",warehouse:"Gujarat Food Storage"}}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"stockList"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Stock ID"),r.a.createElement("th",null,"Item"),r.a.createElement("th",null,"Quantity"),r.a.createElement("th",null,"Warehouse")),null===this.state.items?"Loading...":Object.values(this.state.items).map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.item),r.a.createElement("td",null,e.quantity," ",e.unit),r.a.createElement("td",null,e.warehouse))}))))}}]),t}(n.Component)),de=Object(s.b)(function(e){return{token:e.token}})(he),pe=function(e){return r.a.createElement("div",{className:"stockComp"},r.a.createElement("h3",null,"Stock"),r.a.createElement(de,null))},fe=function(e){return r.a.createElement("div",{className:"dashboardComp"},r.a.createElement(pe,null),r.a.createElement(me,null))},Ee=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sideContent"},r.a.createElement(L,null),r.a.createElement("div",{className:"sideWrapper"},r.a.createElement(M.c,null,r.a.createElement(M.a,{path:"/",exact:!0,component:R}),r.a.createElement(M.a,{path:"/tasks",exact:!0,component:q}),r.a.createElement(M.a,{path:"/organisations",exact:!0,component:Q}),r.a.createElement(M.a,{path:"/staff",exact:!0,component:ce}),r.a.createElement(M.a,{path:"/resources",exact:!0,component:fe}),r.a.createElement(M.a,{component:Y}))))}}]),t}(n.Component),ge=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(Ee,null))}}]),t}(n.Component),be=(a(83),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",pass:""},a.handleEmailChange=function(e){a.setState({email:e.target.value})},a.handlePassChange=function(e){a.setState({pass:e.target.value})},a.submitHandler=function(e){e.preventDefault(),a.props.onAuth(a.state.email,a.state.pass)},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=r.a.createElement("p",{style:{color:"red"}},"Loading..."),t=null;return null!==this.props.error&&(t=r.a.createElement("p",{style:{color:"red"}},this.props.error)),r.a.createElement("div",{className:"auth"},r.a.createElement("form",{onSubmit:this.submitHandler},r.a.createElement("h3",null,"Login"),this.props.loading?e:null,t,r.a.createElement("label",null,"Email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"email",value:this.state.email,placeholder:"Eg. puru@example.com",onChange:this.handleEmailChange}),r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",value:this.state.pass,onChange:this.handlePassChange,placeholder:"Eg. p@$$w0rd"}),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),t}(n.Component)),ve=Object(s.b)(function(e){return{loading:e.loading,error:e.error}},function(e){return{onAuth:function(t,a){return e(function(e,t){return function(a){a({type:"AUTH_START"}),k.a.post("./php/login.php",{email:e,pass:t}).then(function(e){if("string"===typeof e.data&&"authfail"===e.data.trim())a(y("Username and Password Didn't Match"));else{var t=new Date((new Date).getTime()+36e5);localStorage.setItem("token",e.data.token),localStorage.setItem("exprDate",t),a(O(e.data.token))}}).catch(function(e){a(y("There was an error, please try again later."))})}}(t,a))}}})(be),ke=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.onTryAuthSignup()}},{key:"render",value:function(){var e=r.a.createElement(ve,null);return this.props.isAuth&&(e=r.a.createElement(ge,null)),r.a.createElement(b.a,{basename:"/software"},r.a.createElement("div",{className:"App"},e))}}]),t}(n.Component),Oe=Object(s.b)(function(e){return{isAuth:null!==e.token}},function(e){return{onTryAuthSignup:function(){return e(function(e){var t=localStorage.getItem("token");t&&new Date(localStorage.getItem("exprDate"))>new Date?e(O(t)):e(j())})}}})(ke);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||c.c,je=Object(c.d)(h,ye(Object(c.a)(i.a)));o.a.render(r.a.createElement(s.a,{store:je},r.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.81eff24f.chunk.js.map